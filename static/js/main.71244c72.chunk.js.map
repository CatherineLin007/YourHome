{"version":3,"sources":["Choices.js","StateMachine.js","App.js","index.js"],"names":["Choices","props","state","current","dataSet","question","answers","isModel","env","scales","choices","finished","final_result","lastClick","handleClick","bind","choice","time","Date","now","this","console","log","length","setState","icon","class","src","height","style","marginTop","marginLeft","onClick","window","location","reload","alt","Model","myMesh","React","useRef","useFrame","clock","gltf","useLoader","GLTFLoader","ref","position","THREE","object","scene","className","camera","fallback","Environment","preset","OrbitControls","QuizArea","models","Component","Question","Answer","image","cursor","AnswerList","i","push","Html","ModelAnswerList","a","getElapsedTime","rotation","y","shift","scale","Environment0","files","StateMachine","start","end","href","App","document","querySelector","playbackRate","autoPlay","muted","loop","id","type","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.71244c72.chunk.js","sourcesContent":["import \"./Choices.css\";\nimport React, { Component } from \"react\";\nimport * as THREE from \"three\";\nimport { Canvas, useFrame } from \"@react-three/fiber\";\nimport { useLoader } from \"@react-three/fiber\";\nimport { Environment, Html, OrbitControls, useGLTF } from \"@react-three/drei\";\nimport { EffectComposer, DepthOfField, Bloom, Noise, Vignette } from '@react-three/postprocessing'\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Suspense } from \"react\";\n\n\nexport default class Choices extends Component {\n    constructor(props) {\n        super(props);\n\n        var dataSet = [\n            {\n                question: \"Q1\",\n                answers: [\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                ],\n            },\n            {\n                question: \"Q2\",\n                answers: [\"dress/scene.gltf\", \"floral_dress/scene3.gltf\"],\n                isModel: true,\n                env: \"/env1.hdr\",\n                scales: [100, 3]\n            },\n            {\n                question: \"Q3\",\n                answers: [\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                ],\n            },\n            {\n                question: \"Q4\",\n                answers: [\"car/scene.gltf\", \"floral_dress/scene3.gltf\"],\n                isModel: true,\n                env: \"/env2.hdr\",\n                scales: [1, 3]\n            },\n            {\n                question: \"Q5\",\n                answers: [\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                ],\n            },\n            {\n                question: \"Q6\",\n                answers: [\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                    \"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\",\n                ],\n            },\n        ];\n\n        this.state = {\n            current: 0,\n            dataSet: dataSet,\n            choices: [],\n            finished: false,\n            final_result: 0,\n            lastClick:0,\n        };\n        this.handleClick = this.handleClick.bind(this);\n    } // end constructor\n\n    handleClick(choice) {\n        var time = Date.now();\n        if(time - this.state.lastClick < 10){\n            console.log(\"catch\");\n            return;\n        }\n        if (this.state.current === this.state.dataSet.length - 1) {\n            this.setState({ finished: true, choices: this.state.choices + [choice], lastClick: time });\n            console.log(this.state.choices);\n        } else {\n            this.setState({ current: this.state.current + 1, choices: this.state.choices + [choice], lastClick: time });\n        }\n    }\n\n    componentDidMount() { }\n\n    render() {\n        var icon = (\n            <img\n                class=\"icon\"\n                src=\"https://t4.ftcdn.net/jpg/02/07/87/79/360_F_207877921_BtG6ZKAVvtLyc5GWpBNEIlIxsffTtWkv.jpg\"\n                height=\"80px\"\n                style={{ marginTop: \"15px\", marginLeft: \"15px\", \"zIndex\": \"100\" }}\n                onClick={() => window.location.reload(false)}\n                alt\n            ></img>\n        );\n\n        if (this.state.finished) {\n            const Model = () => {\n                const myMesh = React.useRef();\n                useFrame(({ clock }) => { });\n                const gltf = useLoader(GLTFLoader, \"car/scene.gltf\");\n                return (\n                    <mesh ref={myMesh} position={new THREE.Vector3(0, 0, 0)}>\n                        <primitive object={gltf.scene}></primitive>\n                    </mesh>\n                );\n            };\n            return (\n                <div>\n                    {icon}\n                    <div>{this.state.choices}</div>\n                    <div className=\"App\">\n                        <Canvas camera={{ position: [0, 100, 500] }}>\n                            <Suspense fallback={null}>\n                                <Model></Model>\n                                <Environment preset=\"sunset\" />\n                                <OrbitControls></OrbitControls>\n                            </Suspense>\n                        </Canvas>\n                    </div>\n                </div>\n            );\n        }\n        return (\n            <div>\n                {icon}\n                <QuizArea\n                    handleClick={this.handleClick}\n                    dataSet={this.state.dataSet[this.state.current]}\n                    models={this.state.models}\n                />\n            </div>\n        );\n    }\n}\n\nfunction Question(props) {\n    var style = { marginLeft: \"100px\" };\n    return <h1 style={style}>{props.dataSet.question}</h1>;\n}\n\nfunction Answer(props) {\n    return (\n        <img\n            class=\"choice\"\n            src={props.image}\n            onClick={() => props.handleClick(props.choice)}\n            style={{ marginLeft: \"100px\", cursor: \"pointer\" }}\n        ></img>\n    );\n}\n\nfunction AnswerList(props) {\n    var answers = [];\n    for (let i = 0; i < props.dataSet.answers.length; i++) {\n        answers.push(\n            <Answer\n                choice={i}\n                handleClick={props.handleClick}\n                image={props.dataSet.answers[i]}\n            />\n        );\n    }\n\n    var style = {};\n    return <div style={style}>{answers}</div>;\n}\n\nfunction QuizArea(props) {\n    if (props.dataSet.isModel === true) {\n        return (\n            <div class=\"modelQuestion\">\n                \n                <div className=\"App\">\n                    <Canvas\n                        style={{ marginTop: \"-200px\" }}\n                        camera={{ position: [0, 100, 500] }}\n                    >\n                        <Html><div style={{marginTop:\"-150px\"}}><h1>{props.dataSet.question}</h1></div></Html>\n                        <Suspense fallback={null}>\n                            <ModelAnswerList\n                                dataSet={props.dataSet}\n                                handleClick={props.handleClick}\n                                models={props.models}\n                            />\n                            \n                        </Suspense>\n                        \n                    </Canvas>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div >\n            <Question dataSet={props.dataSet} />\n\n            <AnswerList dataSet={props.dataSet} handleClick={props.handleClick} />\n        </div>\n    );\n}\n\nfunction ModelAnswerList(props) {\n    const Model = (choice) => {\n        const myMesh = React.useRef();\n        useFrame(({ clock }) => {\n            const a = clock.getElapsedTime();\n            myMesh.current.rotation.y = a / 3;\n        });\n        const gltf = useLoader(GLTFLoader, props.dataSet.answers[choice]);\n        const shift = choice === 0 ? -250 : 250;\n        return (\n            <mesh\n                ref={myMesh}\n                onClick={() => {props.handleClick(choice)}}\n                position={new THREE.Vector3(shift, 0, 0)}\n            >\n                <primitive object={gltf.scene} scale={props.dataSet.scales[choice]}></primitive>\n            </mesh>\n        );\n    };\n    const Environment0 = () => {\n        return <Environment files={props.dataSet.env}></Environment>;\n    };\n    return (\n        <>\n            {Model(0)}\n            {Model(1)}\n            <Environment0></Environment0>\n        </>\n    );\n}\n","import './StateMachine.css';\nimport React, { Component } from 'react';\nimport Choices from './Choices';\n\nexport default class StateMachine extends Component {\n\tconstructor(props) {\n        super(props);\n        this.state = {\n            start: false,\n\t\t\tend: false\n        };\n    }\n\trender() {\n\t\tif(this.state.end){\n\t\t\treturn <div>end</div>;\n\t\t}\n\t\tif(this.state.start){\n\t\t\treturn <Choices></Choices>;\n\t\t}\n\t\treturn (\n\t\t\t// start page\n\t\t\t<>\n\t\t\t\t<div href=\"#\" class=\"cube\" onClick={() => {this.setState({start: true});}} style={{\"marginTop\": \"250px\"}}>\n\t\t\t\t\t<div class=\"face top\"><h1 style={{marginTop:\"40%\"}}>?</h1></div>\n\t\t\t\t\t<div class=\"face bottom\"><h1 style={{marginTop:\"40%\"}}>?</h1></div>\n\t\t\t\t\t<div class=\"face left\"><h1 style={{marginTop:\"40%\"}}>?</h1></div>\n\t\t\t\t\t<div class=\"face right\"><h1 style={{marginTop:\"40%\"}}>?</h1></div>\n\t\t\t\t\t<div class=\"face front\"><h1 style={{marginTop:\"40%\"}}>?</h1></div>\n\t\t\t\t\t<div class=\"face back\"><h1 style={{marginTop:\"40%\"}}>?</h1></div>\n\t\t\t\t</div>\n                \n\t\t\t</>\n\t\t);\n\t}\n}","import './App.css';\nimport React, { Component } from 'react';\nimport StateMachine from './StateMachine';\n\nexport default function App() {\n\ttry{\n\tdocument.querySelector('video').playbackRate = 1.0;\n\t}\n\tcatch{}\n\treturn (\n\t\t<div>\n\t\t\t<video autoPlay muted loop id=\"myVideo\">\n\t\t\t\t<source src=\"b.mp4\" type=\"video/mp4\"></source>\n\t\t\t</video>\n\n\t\t\t<StateMachine></StateMachine></div>\n\t);\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}